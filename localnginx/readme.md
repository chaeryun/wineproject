#  로컬에서 /api로 서버와 통신하기.

설치 및 간단한 사용 설명

- https://harrydony.tistory.com/665




# 진행방식

## 0. 기본설정


설치후, conf/nginx.conf 파일 복붙 & html/index.html 삭제.

## 1. 포트 바꾸기.


nginx.conf 파일 포트를 확인.

해당 파일에는 이러한 것이 있을거임.

```
upstream be { 
        server 127.0.0.1:8080;
    }
upstream fe { 
        server 127.0.0.1:5500;
}
```

fe 서버의 포트는 프론트엔드 포트 포트로 수정. 

be 서버의 포트도 백엔드 포트 포트로 수정. 



ex)  프론드가 5000 포트, 백엔드는 8000 포트로 열려 있는 상황이라면,

```
upstream be { 
        server 127.0.0.1:8000;
    }
upstream fe { 
        server 127.0.0.1:5000;
}
```

이런식으로 포트만 바꿔주면됨.







## 2. 파일 덮어씌우기

nginx.conf 파일을 해당 파일으로 덮어씌우면 됨.

nginx폴더/conf 폴더에 해당 폴더에 있는 nginx.conf을 덮어 씌우면 됨.

그럼, 배포 서버와 동일하게 진행 할 수있다.



## 3. 서버 호출 url 바꾸기

서버를 호출할때 기본 url도 localhost:8080이 아닌, "/api" 변경하면 됨.

우리 프로젝트 예를 들면 Frontend/config에 있는 API_BASE_URL에 있는 값을 "/api" 로 변경하면 됨.

대충 보니, Frontend/config와 util/http-commons 만 바꾸면 될듯한데,

 추가로 바뀌어야 하는 부분있으면 유동적으로 바꿔면 됨.





## 주의사항

성현님한테도 말씀드리긴했지만,  아직은 /api로 통신은 되어 있지 않음.(원인은 아직 모름.)

아마 성현님이나 나(현수) 해결해야 할듯하지만, 시간이 조금 걸린 것 같음.



우선은 원래 개발하신대로 일하시다가, 나중에 변경해주시면 될듯 함.



