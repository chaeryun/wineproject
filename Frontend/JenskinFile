pipeline {
    agent any

   
    stages {
        stage("build"){
            sh "sudo npm install"
            sh "sudo npm run build"
        }

        stage('docker image push') {
            script{
                docker.withRegistry('https://hub.docker.com/', 'ssafyc102') {
                    def customImage = docker.build("ssafyc102/wine_service:fe")
                    customImage.push()
                }
            }

        }
    }
}
